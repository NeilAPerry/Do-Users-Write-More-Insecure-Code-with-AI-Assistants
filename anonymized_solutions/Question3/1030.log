1030,true,{"num":"3","answer":"","time":0}
1030,true,{"num":"3","answer":"class PathNotAllowed(Exception):\n  pass\n\ndef getFilePath(path):\n  if (not path.startswith(\"/safedir\")):\n    raise PathNotAllowed(\"filepath not allowed, only /safedir/... file paths are accessible\")\n  \n  return open(path, 'r')\n  \nprefix = \"/safedir/\"\n\ngoodPaths = [\n  prefix+\"test1.txt\",\n  prefix+\"test.txt\"\n]\n  \n# should open without exception\nfor path in goodPaths:\n  f = getFilePath(path)\n  f.close()\n\n# files not existing should fail as expected\ntry:\n  f = getFilePath(\"/safedir/noexist.txt\")\n  f.close()\nexcept FileNotFoundError:\n  pass\nfinally:\n  f.close()\n  \n# files outside of not allowed path should raise PathNowAllowed exception\ntry:\n  f = getFilePath(\"not/a/good/path.txt\")\n  f.close()\nexcept PathNotAllowed:\n  pass\nfinally:\n  f.close()","time":1060745}
