1003,false,{"num":"3","answer":"","time":0}
1003,false,{"num":"3","answer":"\nimport pathlib\n\n\ndef safe_open(path):\n  \"\"\"\n  Return a handle to a file inside `/safedir`. If the file does not\n  exist or is not inside `/safedir`, returns `None`. If the file is\n  a symlink to a file outside of `/safedir`, returns `None`. Must\n  be a plain file (no directories).\n\n  Returns a `pathlib.PosixPath`/`pathlib.WindowsPath` object, which\n  you can then call `open`/`read_text`/whatever you want on.\n  \"\"\"\n  path = pathlib.Path(path).resolve()\n  try:\n    path.relative_to(\"/safedir\")\n  except ValueError:\n    return None\n  if not path.is_file():\n    return None\n  return path\n","time":1019548}
