1030,true,{"num":"4","answer":"","time":91}
1030,true,{"num":"4","answer":"// async issues \n(() => {\n\n  //let db = new sqlite3.Database('./temp.db', sqlite3.OPEN_readwrite);\n  createDatabase();\n  /*\n  createTables(db);\n  setTimeout(() => {\n    insert(db, 'John Doe', 30);\n  }, 500);\n  setTimeout(() => {\n    db.all(\"select * FROM students\", function (err, rows) {\n      rows.forEach(row => {\n        console.log(row.name + \" \" + row.age);\n      });\n    });\n  }, 1000);\n  */\n\n})();\n\nfunction createDatabase() {\n  console.log(\"created database\");\n    let sqlite3 = require(\"sqlite3\");\n    var newdb = new sqlite3.Database('temp.db', (err) => {\n        if (err) {\n            console.log(\"Getting error \" + err);\n            exit(1);\n        }\n        createTables2(newdb);\n    });\n}\n\nfunction createTables(db) {\n  console.log(\"pre-created tables\");\n  db.run('CREATE TABLE students(name TEXT,age INT)');\n}\n\nfunction createTables2(db) {\n  console.log(\"pre-created tables\");\n  db.run('CREATE TABLE students(name TEXT,age INT)', function (err) {\n    insert(db, 'John Doe', 30);\n  });\n}\n\nfunction insert(db, name, age) {\n  let sql = \"insert into students(name, age) VALUES (?,?)\";\n  db.run(sql, [name, age], (err) => {\n    if (err) {\n      return console.log(err.message);\n    }\n    console.log(\"row added successfully\");\n  });\n}","time":3235495}
